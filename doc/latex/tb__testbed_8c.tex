\hypertarget{tb__testbed_8c}{\section{src/tb\-\_\-testbed.c File Reference}
\label{tb__testbed_8c}\index{src/tb\-\_\-testbed.\-c@{src/tb\-\_\-testbed.\-c}}
}
{\ttfamily \#include \char`\"{}tb\-\_\-testbed.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-protocol.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-listener.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-session.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-common.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-utp.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-udp.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-sock\-\_\-opt.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-logging.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}tb\-\_\-endpoint.\-h\char`\"{}}\\*
{\ttfamily \#include $<$pthread.\-h$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$assert.\-h$>$}\\*
{\ttfamily \#include $<$sys/socket.\-h$>$}\\*
{\ttfamily \#include $<$fcntl.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$sys/epoll.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
{\ttfamily \#include $<$signal.\-h$>$}\\*
{\ttfamily \#include $<$sched.\-h$>$}\\*
{\ttfamily \#include $<$netdb.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
Include dependency graph for tb\-\_\-testbed.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{tb__testbed_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{tb__testbed_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{tb__testbed_8c_ac8da963855e09bf929c085486f4a3b47}{test} ()
\item 
int \hyperlink{tb__testbed_8c_a3be49a9767c918bd4abcb1e6ba44f014}{tb\-\_\-parse} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Parse input from a number of strings. \end{DoxyCompactList}\item 
void \hyperlink{tb__testbed_8c_a70047050ccc93bb63209038b7d6d9284}{tb\-\_\-start} (\hyperlink{structtb__listener__t}{tb\-\_\-listener\-\_\-t} $\ast$listener)
\begin{DoxyCompactList}\small\item\em Starts the server/client. \end{DoxyCompactList}\item 
int \hyperlink{tb__testbed_8c_ab77c10c1456bceb81a136fbf41a68cb8}{tb\-\_\-monitor} (\hyperlink{structtb__listener__t}{tb\-\_\-listener\-\_\-t} $\ast$listener)
\begin{DoxyCompactList}\small\item\em actively monitor the server/client connection \end{DoxyCompactList}\item 
void \hyperlink{tb__testbed_8c_af588c4b48b411318fac6057a5399512d}{tb\-\_\-print\-\_\-stats} (\hyperlink{structtb__prot__stats__t}{tb\-\_\-prot\-\_\-stats\-\_\-t} $\ast$stats, \hyperlink{structtb__listener__t}{tb\-\_\-listener\-\_\-t} $\ast$listener)
\begin{DoxyCompactList}\small\item\em Print the stats given. \end{DoxyCompactList}\item 
void \hyperlink{tb__testbed_8c_af54a464df0b00371cca6432dc0adb97f}{tb\-\_\-exit} (void $\ast$data)
\begin{DoxyCompactList}\small\item\em Exits program. \end{DoxyCompactList}\item 
void \hyperlink{tb__testbed_8c_acf21cc2e7b5bb0d5481849630f5b17d5}{tb\-\_\-abort} (void $\ast$data)
\begin{DoxyCompactList}\small\item\em Aborts program. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const unsigned long long \hyperlink{tb__testbed_8c_a068785140f61b5fb0927a21a0204d128}{m\-\_\-sleep} = 100000
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{tb__testbed_8c_a0ddf1224851353fc92bfbff6f499fa97}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!main@{main}}
\index{main@{main}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_a0ddf1224851353fc92bfbff6f499fa97}


Definition at line 39 of file tb\-\_\-testbed.\-c.

\hypertarget{tb__testbed_8c_acf21cc2e7b5bb0d5481849630f5b17d5}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!tb\-\_\-abort@{tb\-\_\-abort}}
\index{tb\-\_\-abort@{tb\-\_\-abort}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{tb\-\_\-abort}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-abort (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_acf21cc2e7b5bb0d5481849630f5b17d5}


Aborts program. 

Aborts the program, closes the listener and underlying protocol, kills any sockets or files still open.


\begin{DoxyParams}{Parameters}
{\em listener} & The listener to close/destroy. \\
\hline
\end{DoxyParams}


Definition at line 446 of file tb\-\_\-testbed.\-c.

\hypertarget{tb__testbed_8c_af54a464df0b00371cca6432dc0adb97f}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!tb\-\_\-exit@{tb\-\_\-exit}}
\index{tb\-\_\-exit@{tb\-\_\-exit}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{tb\-\_\-exit}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-exit (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_af54a464df0b00371cca6432dc0adb97f}


Exits program. 

Exits the program, closes the listener and underlying protocol, kills any sockes or files still open.


\begin{DoxyParams}{Parameters}
{\em listener} & The listener to close/destroy. \\
\hline
\end{DoxyParams}


Definition at line 435 of file tb\-\_\-testbed.\-c.

\hypertarget{tb__testbed_8c_ab77c10c1456bceb81a136fbf41a68cb8}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!tb\-\_\-monitor@{tb\-\_\-monitor}}
\index{tb\-\_\-monitor@{tb\-\_\-monitor}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{tb\-\_\-monitor}]{\setlength{\rightskip}{0pt plus 5cm}int tb\-\_\-monitor (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-listener\-\_\-t} $\ast$}]{listener}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_ab77c10c1456bceb81a136fbf41a68cb8}


actively monitor the server/client connection 


\begin{DoxyParams}{Parameters}
{\em listener} & The listener to monitor. \\
\hline
\end{DoxyParams}


Definition at line 301 of file tb\-\_\-testbed.\-c.

\hypertarget{tb__testbed_8c_a3be49a9767c918bd4abcb1e6ba44f014}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!tb\-\_\-parse@{tb\-\_\-parse}}
\index{tb\-\_\-parse@{tb\-\_\-parse}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{tb\-\_\-parse}]{\setlength{\rightskip}{0pt plus 5cm}int tb\-\_\-parse (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_a3be49a9767c918bd4abcb1e6ba44f014}


Parse input from a number of strings. 

argv\mbox{[}0\mbox{]} = Test\-Bed argv\mbox{[}1\mbox{]} = Type (server, client) argv\mbox{[}2\mbox{]} = Address argv\mbox{[}3\mbox{]} = Port argv\mbox{[}4\mbox{]} = Protocol (tcp, udp, udt) argv\mbox{[}5\mbox{]} = Bufsize (M\-B) argv\mbox{[}6\mbox{]} = File type (size, file) argv\mbox{[}7\mbox{]} = Filename/\-Fliesize 

Definition at line 63 of file tb\-\_\-testbed.\-c.

\hypertarget{tb__testbed_8c_af588c4b48b411318fac6057a5399512d}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!tb\-\_\-print\-\_\-stats@{tb\-\_\-print\-\_\-stats}}
\index{tb\-\_\-print\-\_\-stats@{tb\-\_\-print\-\_\-stats}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{tb\-\_\-print\-\_\-stats}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-print\-\_\-stats (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-prot\-\_\-stats\-\_\-t} $\ast$}]{stats, }
\item[{{\bf tb\-\_\-listener\-\_\-t} $\ast$}]{listener}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_af588c4b48b411318fac6057a5399512d}


Print the stats given. 


\begin{DoxyParams}{Parameters}
{\em stats} & The stats struct to print. \\
\hline
{\em listener} & The listener to print stats for. \\
\hline
\end{DoxyParams}


Definition at line 402 of file tb\-\_\-testbed.\-c.

\hypertarget{tb__testbed_8c_a70047050ccc93bb63209038b7d6d9284}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!tb\-\_\-start@{tb\-\_\-start}}
\index{tb\-\_\-start@{tb\-\_\-start}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{tb\-\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-start (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-listener\-\_\-t} $\ast$}]{listener}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_a70047050ccc93bb63209038b7d6d9284}


Starts the server/client. 

This begins the server or client. Filename can be null if the endpoint is a server.


\begin{DoxyParams}{Parameters}
{\em listener} & The listener to start. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if performed. 
\end{DoxyReturn}


Definition at line 211 of file tb\-\_\-testbed.\-c.

\hypertarget{tb__testbed_8c_ac8da963855e09bf929c085486f4a3b47}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!test@{test}}
\index{test@{test}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{test}]{\setlength{\rightskip}{0pt plus 5cm}int test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{tb__testbed_8c_ac8da963855e09bf929c085486f4a3b47}


Definition at line 45 of file tb\-\_\-testbed.\-c.



\subsection{Variable Documentation}
\hypertarget{tb__testbed_8c_a068785140f61b5fb0927a21a0204d128}{\index{tb\-\_\-testbed.\-c@{tb\-\_\-testbed.\-c}!m\-\_\-sleep@{m\-\_\-sleep}}
\index{m\-\_\-sleep@{m\-\_\-sleep}!tb_testbed.c@{tb\-\_\-testbed.\-c}}
\subsubsection[{m\-\_\-sleep}]{\setlength{\rightskip}{0pt plus 5cm}const unsigned long long m\-\_\-sleep = 100000}}\label{tb__testbed_8c_a068785140f61b5fb0927a21a0204d128}


Definition at line 36 of file tb\-\_\-testbed.\-c.

