\hypertarget{tb__common_8c}{\section{src/tb\-\_\-common.c File Reference}
\label{tb__common_8c}\index{src/tb\-\_\-common.\-c@{src/tb\-\_\-common.\-c}}
}
{\ttfamily \#include \char`\"{}tb\-\_\-common.\-h\char`\"{}}\\*
{\ttfamily \#include $<$sys/socket.\-h$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$netinet/in.\-h$>$}\\*
{\ttfamily \#include $<$arpa/inet.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
Include dependency graph for tb\-\_\-common.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{tb__common_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{tb__common_8c_a552a8fe72390cc6c07aaa8af6b71f149}{tb\-\_\-print\-\_\-address} (struct sockaddr\-\_\-storage $\ast$store)
\item 
char $\ast$ \hyperlink{tb__common_8c_aa5572e6039ea29b3bfbe1ad5401880e1}{tb\-\_\-get\-\_\-address} (struct sockaddr\-\_\-storage $\ast$store)
\item 
\hyperlink{structtb__time__t}{tb\-\_\-time\-\_\-t} $\ast$ \hyperlink{tb__common_8c_ad9263dd27af44435dbdcf5519c37e39b}{tb\-\_\-create\-\_\-time} (clockid\-\_\-t clk\-\_\-id)
\begin{DoxyCompactList}\small\item\em Create a time struct. \end{DoxyCompactList}\item 
void \hyperlink{tb__common_8c_a9f135b42d60c057bd14984c24a7cc23d}{tb\-\_\-destroy\-\_\-time} (\hyperlink{structtb__time__t}{tb\-\_\-time\-\_\-t} $\ast$time)
\begin{DoxyCompactList}\small\item\em Destroy a \hyperlink{structtb__time__t}{tb\-\_\-time\-\_\-t} struct. \end{DoxyCompactList}\item 
void \hyperlink{tb__common_8c_a49003910b9587f4e37a8212e321b4580}{tb\-\_\-start\-\_\-time} (\hyperlink{structtb__time__t}{tb\-\_\-time\-\_\-t} $\ast$time)
\begin{DoxyCompactList}\small\item\em Record the start time. \end{DoxyCompactList}\item 
void \hyperlink{tb__common_8c_a600d5e4f03f9d4de5cd6d65e6e5c6792}{tb\-\_\-finish\-\_\-time} (\hyperlink{structtb__time__t}{tb\-\_\-time\-\_\-t} $\ast$time)
\begin{DoxyCompactList}\small\item\em Record the finish time. \end{DoxyCompactList}\item 
void \hyperlink{tb__common_8c_aab0e0bc3ffde8c502abe75ceba107ab3}{tb\-\_\-calculate\-\_\-time} (\hyperlink{structtb__time__t}{tb\-\_\-time\-\_\-t} $\ast$time)
\begin{DoxyCompactList}\small\item\em Calculate the time difference between start and stop. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{tb__common_8c_a4ec357fc778b479d299cad9e82504cf0}{tb\-\_\-create\-\_\-test\-\_\-file} (char $\ast$file\-\_\-name, int $\ast$file\-\_\-size)
\begin{DoxyCompactList}\small\item\em Load the file to be used for sending using the cilent. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{tb__common_8c_ae3ab0d3349b13d5f813c89f2eca18bf9}{tb\-\_\-load\-\_\-test\-\_\-file} (char $\ast$file\-\_\-name, int $\ast$file\-\_\-size)
\begin{DoxyCompactList}\small\item\em Load file. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{tb__common_8c_a32e9f0dbdbebb0e77182590d251c6b16}{tb\-\_\-load\-\_\-random\-\_\-file} (int size)
\begin{DoxyCompactList}\small\item\em Load random file of specified size. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{tb__common_8c_ac679a827a18628284c3003a2af880749}{tb\-\_\-create\-\_\-random} (char $\ast$path, int size)
\begin{DoxyCompactList}\small\item\em Create a random file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{tb__common_8c_aab0e0bc3ffde8c502abe75ceba107ab3}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-calculate\-\_\-time@{tb\-\_\-calculate\-\_\-time}}
\index{tb\-\_\-calculate\-\_\-time@{tb\-\_\-calculate\-\_\-time}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-calculate\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-calculate\-\_\-time (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-time\-\_\-t} $\ast$}]{time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{tb__common_8c_aab0e0bc3ffde8c502abe75ceba107ab3}


Calculate the time difference between start and stop. 



Definition at line 80 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_ac679a827a18628284c3003a2af880749}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-create\-\_\-random@{tb\-\_\-create\-\_\-random}}
\index{tb\-\_\-create\-\_\-random@{tb\-\_\-create\-\_\-random}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-create\-\_\-random}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tb\-\_\-create\-\_\-random (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{path, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}}\label{tb__common_8c_ac679a827a18628284c3003a2af880749}


Create a random file. 



Definition at line 182 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_a4ec357fc778b479d299cad9e82504cf0}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-create\-\_\-test\-\_\-file@{tb\-\_\-create\-\_\-test\-\_\-file}}
\index{tb\-\_\-create\-\_\-test\-\_\-file@{tb\-\_\-create\-\_\-test\-\_\-file}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-create\-\_\-test\-\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tb\-\_\-create\-\_\-test\-\_\-file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{file\-\_\-name, }
\item[{int $\ast$}]{file\-\_\-size}
\end{DoxyParamCaption}
)}}\label{tb__common_8c_a4ec357fc778b479d299cad9e82504cf0}


Load the file to be used for sending using the cilent. 


\begin{DoxyParams}{Parameters}
{\em listener} & The listener to create the file for. \\
\hline
\end{DoxyParams}


Definition at line 89 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_ad9263dd27af44435dbdcf5519c37e39b}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-create\-\_\-time@{tb\-\_\-create\-\_\-time}}
\index{tb\-\_\-create\-\_\-time@{tb\-\_\-create\-\_\-time}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-create\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-time\-\_\-t}$\ast$ tb\-\_\-create\-\_\-time (
\begin{DoxyParamCaption}
\item[{clockid\-\_\-t}]{clk\-\_\-id}
\end{DoxyParamCaption}
)}}\label{tb__common_8c_ad9263dd27af44435dbdcf5519c37e39b}


Create a time struct. 


\begin{DoxyParams}{Parameters}
{\em clk\-\_\-id} & The id of the type of clock to use. \\
\hline
\end{DoxyParams}


Definition at line 47 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_a9f135b42d60c057bd14984c24a7cc23d}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-destroy\-\_\-time@{tb\-\_\-destroy\-\_\-time}}
\index{tb\-\_\-destroy\-\_\-time@{tb\-\_\-destroy\-\_\-time}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-destroy\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-destroy\-\_\-time (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-time\-\_\-t} $\ast$}]{time}
\end{DoxyParamCaption}
)}}\label{tb__common_8c_a9f135b42d60c057bd14984c24a7cc23d}


Destroy a \hyperlink{structtb__time__t}{tb\-\_\-time\-\_\-t} struct. 



Definition at line 59 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_a600d5e4f03f9d4de5cd6d65e6e5c6792}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-finish\-\_\-time@{tb\-\_\-finish\-\_\-time}}
\index{tb\-\_\-finish\-\_\-time@{tb\-\_\-finish\-\_\-time}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-finish\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-finish\-\_\-time (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-time\-\_\-t} $\ast$}]{time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{tb__common_8c_a600d5e4f03f9d4de5cd6d65e6e5c6792}


Record the finish time. 



Definition at line 73 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_aa5572e6039ea29b3bfbe1ad5401880e1}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-get\-\_\-address@{tb\-\_\-get\-\_\-address}}
\index{tb\-\_\-get\-\_\-address@{tb\-\_\-get\-\_\-address}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-get\-\_\-address}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tb\-\_\-get\-\_\-address (
\begin{DoxyParamCaption}
\item[{struct sockaddr\-\_\-storage $\ast$}]{store}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{tb__common_8c_aa5572e6039ea29b3bfbe1ad5401880e1}


Definition at line 26 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_a32e9f0dbdbebb0e77182590d251c6b16}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-load\-\_\-random\-\_\-file@{tb\-\_\-load\-\_\-random\-\_\-file}}
\index{tb\-\_\-load\-\_\-random\-\_\-file@{tb\-\_\-load\-\_\-random\-\_\-file}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-load\-\_\-random\-\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tb\-\_\-load\-\_\-random\-\_\-file (
\begin{DoxyParamCaption}
\item[{int}]{size}
\end{DoxyParamCaption}
)}}\label{tb__common_8c_a32e9f0dbdbebb0e77182590d251c6b16}


Load random file of specified size. 

Loads a pre-\/generated file of the specified size, or generates it if it does not exist. 

Definition at line 148 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_ae3ab0d3349b13d5f813c89f2eca18bf9}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-load\-\_\-test\-\_\-file@{tb\-\_\-load\-\_\-test\-\_\-file}}
\index{tb\-\_\-load\-\_\-test\-\_\-file@{tb\-\_\-load\-\_\-test\-\_\-file}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-load\-\_\-test\-\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tb\-\_\-load\-\_\-test\-\_\-file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{file\-\_\-name, }
\item[{int $\ast$}]{file\-\_\-size}
\end{DoxyParamCaption}
)}}\label{tb__common_8c_ae3ab0d3349b13d5f813c89f2eca18bf9}


Load file. 



Definition at line 118 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_a552a8fe72390cc6c07aaa8af6b71f149}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-print\-\_\-address@{tb\-\_\-print\-\_\-address}}
\index{tb\-\_\-print\-\_\-address@{tb\-\_\-print\-\_\-address}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-print\-\_\-address}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-print\-\_\-address (
\begin{DoxyParamCaption}
\item[{struct sockaddr\-\_\-storage $\ast$}]{store}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{tb__common_8c_a552a8fe72390cc6c07aaa8af6b71f149}


Definition at line 18 of file tb\-\_\-common.\-c.

\hypertarget{tb__common_8c_a49003910b9587f4e37a8212e321b4580}{\index{tb\-\_\-common.\-c@{tb\-\_\-common.\-c}!tb\-\_\-start\-\_\-time@{tb\-\_\-start\-\_\-time}}
\index{tb\-\_\-start\-\_\-time@{tb\-\_\-start\-\_\-time}!tb_common.c@{tb\-\_\-common.\-c}}
\subsubsection[{tb\-\_\-start\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}void tb\-\_\-start\-\_\-time (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-time\-\_\-t} $\ast$}]{time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{tb__common_8c_a49003910b9587f4e37a8212e321b4580}


Record the start time. 



Definition at line 67 of file tb\-\_\-common.\-c.

