<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>TestBed: src/tb_testbed.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TestBed
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">For testing various protocols over the internets</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tb__testbed_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tb_testbed.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="tb__protocol_8h_source.html">tb_protocol.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="tb__listener_8h_source.html">tb_listener.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="tb__session_8h_source.html">tb_session.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tb_testbed.h:</div>
<div class="dyncontent">
<div class="center"><img src="tb__testbed_8h__incl.png" border="0" usemap="#src_2tb__testbed_8h" alt=""/></div>
<map name="src_2tb__testbed_8h" id="src_2tb__testbed_8h">
<area shape="rect" id="node3" href="tb__protocol_8h.html" title="tb_protocol.h" alt="" coords="21,315,117,344"/><area shape="rect" id="node11" href="tb__listener_8h.html" title="tb_listener.h" alt="" coords="450,83,543,112"/><area shape="rect" id="node21" href="tb__session_8h.html" title="tb_session.h" alt="" coords="330,237,426,267"/><area shape="rect" id="node5" href="tb__epoll_8h.html" title="tb_epoll.h" alt="" coords="30,392,107,421"/><area shape="rect" id="node15" href="tb__worker_8h.html" title="tb_worker.h" alt="" coords="410,160,501,189"/><area shape="rect" id="node43" href="tb__logging_8h.html" title="tb_logging.h" alt="" coords="794,237,885,267"/><area shape="rect" id="node47" href="tb__sock__opt_8h.html" title="tb_sock_opt.h" alt="" coords="137,237,241,267"/><area shape="rect" id="node24" href="tb__common_8h.html" title="tb_common.h" alt="" coords="415,315,517,344"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="tb__testbed_8h__dep__incl.png" border="0" usemap="#src_2tb__testbed_8hdep" alt=""/></div>
<map name="src_2tb__testbed_8hdep" id="src_2tb__testbed_8hdep">
<area shape="rect" id="node3" href="tb__endpoint_8c.html" title="src/tb_endpoint.c" alt="" coords="5,83,128,112"/><area shape="rect" id="node5" href="tb__stream_8c.html" title="src/tb_stream.c" alt="" coords="152,83,264,112"/><area shape="rect" id="node7" href="tb__testbed_8c.html" title="src/tb_testbed.c" alt="" coords="288,83,403,112"/><area shape="rect" id="node9" href="tb__udp_8c.html" title="src/tb_udp.c" alt="" coords="427,83,520,112"/><area shape="rect" id="node11" href="tb__udt_8c.html" title="src/tb_udt.c" alt="" coords="544,83,635,112"/><area shape="rect" id="node13" href="tb__utp_8c.html" title="src/tb_utp.c" alt="" coords="659,83,749,112"/></map>
</div>
</div>
<p><a href="tb__testbed_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab81ca9153c95d55639b4ab520bb2aa4d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4d">INPUT</a> { <br/>
&#160;&#160;<a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4dab47ea8bb955afd0adc0ef98517dd6084">TYPE</a> =  1, 
<a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4da4fabbaac7b5e57d7b8b019a0f79ce492">ADDRESS</a>, 
<a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4da8268527d969e4ef493d3f35844a0b841">PORT</a>, 
<a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4da4965c5a2738945d912c8afcbfe435ad1">PROT</a>, 
<br/>
&#160;&#160;<a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4da98bdbe98880b7a360d1ecc8a19f5677d">BUF_SIZE</a>, 
<a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4da1d55968a1d035b4ae659e3234264a899">FILE_TYPE</a>, 
<a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4da77374a65274f20cc342c53cc2fd52ea0">FILE_NAME</a>
<br/>
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5ec3b6c120621050965582e51e4d0d5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtb__listener__t.html">tb_listener_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a5ec3b6c120621050965582e51e4d0d5a">tb_create_listener</a> (<a class="el" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6">ENDPOINT_TYPE</a> type, char *addr, char *port, <a class="el" href="tb__protocol_8h.html#a7a5bff1040fc154c510874327d44cc1a">PROTOCOL</a> protocol, int bufsize)</td></tr>
<tr class="memdesc:a5ec3b6c120621050965582e51e4d0d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a listener with the supplied parameters.  <a href="#a5ec3b6c120621050965582e51e4d0d5a"></a><br/></td></tr>
<tr class="memitem:a042a2b565ccc70e1506562ad43c83bfb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtb__listener__t.html">tb_listener_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a042a2b565ccc70e1506562ad43c83bfb">tb_create_endpoint</a> (<a class="el" href="structtb__test__params__t.html">tb_test_params_t</a> *params)</td></tr>
<tr class="memdesc:a042a2b565ccc70e1506562ad43c83bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a listener using a <a class="el" href="structtb__test__params__t.html">tb_test_params_t</a> struct.  <a href="#a042a2b565ccc70e1506562ad43c83bfb"></a><br/></td></tr>
<tr class="memitem:a7e28b461066b5dd420523dc686b3ac29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtb__prot__stats__t.html">tb_prot_stats_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a7e28b461066b5dd420523dc686b3ac29">tb_get_protocol_stats</a> (<a class="el" href="structtb__listener__t.html">tb_listener_t</a> *listener)</td></tr>
<tr class="memitem:a6e5c88a915882ea9d39fd41ee4742ffc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtb__prot__stats__t.html">tb_prot_stats_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a6e5c88a915882ea9d39fd41ee4742ffc">tb_ex_get_stats</a> (<a class="el" href="structtb__listener__t.html">tb_listener_t</a> *listener)</td></tr>
<tr class="memdesc:a6e5c88a915882ea9d39fd41ee4742ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">A thread safe way to get access to stats.  <a href="#a6e5c88a915882ea9d39fd41ee4742ffc"></a><br/></td></tr>
<tr class="memitem:a3be49a9767c918bd4abcb1e6ba44f014"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a3be49a9767c918bd4abcb1e6ba44f014">tb_parse</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a3be49a9767c918bd4abcb1e6ba44f014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse input from a number of strings.  <a href="#a3be49a9767c918bd4abcb1e6ba44f014"></a><br/></td></tr>
<tr class="memitem:ac8da963855e09bf929c085486f4a3b47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#ac8da963855e09bf929c085486f4a3b47">test</a> ()</td></tr>
<tr class="memitem:a70047050ccc93bb63209038b7d6d9284"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a70047050ccc93bb63209038b7d6d9284">tb_start</a> (<a class="el" href="structtb__listener__t.html">tb_listener_t</a> *listener)</td></tr>
<tr class="memdesc:a70047050ccc93bb63209038b7d6d9284"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the server/client.  <a href="#a70047050ccc93bb63209038b7d6d9284"></a><br/></td></tr>
<tr class="memitem:ab77c10c1456bceb81a136fbf41a68cb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#ab77c10c1456bceb81a136fbf41a68cb8">tb_monitor</a> (<a class="el" href="structtb__listener__t.html">tb_listener_t</a> *listener)</td></tr>
<tr class="memdesc:ab77c10c1456bceb81a136fbf41a68cb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">actively monitor the server/client connection  <a href="#ab77c10c1456bceb81a136fbf41a68cb8"></a><br/></td></tr>
<tr class="memitem:af588c4b48b411318fac6057a5399512d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#af588c4b48b411318fac6057a5399512d">tb_print_stats</a> (<a class="el" href="structtb__prot__stats__t.html">tb_prot_stats_t</a> *stats, <a class="el" href="structtb__listener__t.html">tb_listener_t</a> *listener)</td></tr>
<tr class="memdesc:af588c4b48b411318fac6057a5399512d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the stats given.  <a href="#af588c4b48b411318fac6057a5399512d"></a><br/></td></tr>
<tr class="memitem:a31e07ac64cefdac833246c5c845449b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a31e07ac64cefdac833246c5c845449b7">tb_interrupt_handler</a> (int value)</td></tr>
<tr class="memdesc:a31e07ac64cefdac833246c5c845449b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle system interrupts.  <a href="#a31e07ac64cefdac833246c5c845449b7"></a><br/></td></tr>
<tr class="memitem:ad77d79cfa8de8247ef4166ea49aec63f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#ad77d79cfa8de8247ef4166ea49aec63f">tb_abort</a> (void *data) __attribute__((__noreturn__))</td></tr>
<tr class="memdesc:ad77d79cfa8de8247ef4166ea49aec63f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts program.  <a href="#ad77d79cfa8de8247ef4166ea49aec63f"></a><br/></td></tr>
<tr class="memitem:a75ea5c908edfd87375f5bc7b8653232e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a75ea5c908edfd87375f5bc7b8653232e">tb_exit</a> (void *data) __attribute__((__noreturn__))</td></tr>
<tr class="memdesc:a75ea5c908edfd87375f5bc7b8653232e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exits program.  <a href="#a75ea5c908edfd87375f5bc7b8653232e"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a16bd599f12a21e98f33152764b85ae37"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#a16bd599f12a21e98f33152764b85ae37">C_BUFF_SIZE</a></td></tr>
<tr class="memdesc:a16bd599f12a21e98f33152764b85ae37"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client buffer multiplier.  <a href="#a16bd599f12a21e98f33152764b85ae37"></a><br/></td></tr>
<tr class="memitem:ab5ee406d514403c7caaa5bce873cd300"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tb__testbed_8h.html#ab5ee406d514403c7caaa5bce873cd300">S_BUFF_SIZE</a></td></tr>
<tr class="memdesc:ab5ee406d514403c7caaa5bce873cd300"><td class="mdescLeft">&#160;</td><td class="mdescRight">The server buffer multiplier.  <a href="#ab5ee406d514403c7caaa5bce873cd300"></a><br/></td></tr>
</table>
<h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tb__testbed_8h.html#ab81ca9153c95d55639b4ab520bb2aa4d">INPUT</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4dab47ea8bb955afd0adc0ef98517dd6084"></a>TYPE</em>&nbsp;</td><td>
<p>The type of endpoint to create (server, client) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4da4fabbaac7b5e57d7b8b019a0f79ce492"></a>ADDRESS</em>&nbsp;</td><td>
<p>The address to bind/connect to. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4da8268527d969e4ef493d3f35844a0b841"></a>PORT</em>&nbsp;</td><td>
<p>The port to bind/connect to. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4da4965c5a2738945d912c8afcbfe435ad1"></a>PROT</em>&nbsp;</td><td>
<p>The protocol to use. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4da98bdbe98880b7a360d1ecc8a19f5677d"></a>BUF_SIZE</em>&nbsp;</td><td>
<p>The size of the application buffer to use. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4da1d55968a1d035b4ae659e3234264a899"></a>FILE_TYPE</em>&nbsp;</td><td>
<p>The type of file to use (disk file, random RAM file) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab81ca9153c95d55639b4ab520bb2aa4da77374a65274f20cc342c53cc2fd52ea0"></a>FILE_NAME</em>&nbsp;</td><td>
<p>The name of the file or the size of the random file To use. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="tb__testbed_8h_source.html#l00018">18</a> of file <a class="el" href="tb__testbed_8h_source.html">tb_testbed.h</a>.</p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="ad77d79cfa8de8247ef4166ea49aec63f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tb_abort </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts program. </p>
<p>Aborts the program, closes the listener and underlying protocol, kills any sockets or files still open.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener to close/destroy. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tb__testbed_8c_source.html#l00446">446</a> of file <a class="el" href="tb__testbed_8c_source.html">tb_testbed.c</a>.</p>

</div>
</div>
<a class="anchor" id="a042a2b565ccc70e1506562ad43c83bfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtb__listener__t.html">tb_listener_t</a>* tb_create_endpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtb__test__params__t.html">tb_test_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a listener using a <a class="el" href="structtb__test__params__t.html">tb_test_params_t</a> struct. </p>
<p>The details in the struct are used to create an endpoint for use in testing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>A struct with all of the required details for a test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the endpoint to test with. </dd></dl>

<p>Definition at line <a class="el" href="tb__listener_8c_source.html#l00158">158</a> of file <a class="el" href="tb__listener_8c_source.html">tb_listener.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5ec3b6c120621050965582e51e4d0d5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtb__listener__t.html">tb_listener_t</a>* tb_create_listener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6">ENDPOINT_TYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tb__protocol_8h.html#a7a5bff1040fc154c510874327d44cc1a">PROTOCOL</a>&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a listener with the supplied parameters. </p>
<p>Creates a listener and the accociated data structures.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of endpoint to create. </td></tr>
    <tr><td class="paramname">addr</td><td>The address to bind to. </td></tr>
    <tr><td class="paramname">port</td><td>The port to bind to. </td></tr>
    <tr><td class="paramname">num_threads</td><td>The number of worker threads to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The newly created listener. </dd></dl>

<p>Definition at line <a class="el" href="tb__listener_8c_source.html#l00038">38</a> of file <a class="el" href="tb__listener_8c_source.html">tb_listener.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6e5c88a915882ea9d39fd41ee4742ffc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtb__prot__stats__t.html">tb_prot_stats_t</a>* tb_ex_get_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtb__listener__t.html">tb_listener_t</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A thread safe way to get access to stats. </p>
<p>This method controls access to the stats generated by testbed. These stats are updated every second, and can be read once. If the data that can be obtained by this function has already been read, it blocks until new data has arrived.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener for which to get the stats from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structtb__prot__stats__t.html" title="Protocol information struct.">tb_prot_stats_t</a> with the stats inserted. </dd></dl>

<p>Definition at line <a class="el" href="tb__listener_8c_source.html#l00362">362</a> of file <a class="el" href="tb__listener_8c_source.html">tb_listener.c</a>.</p>

</div>
</div>
<a class="anchor" id="a75ea5c908edfd87375f5bc7b8653232e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tb_exit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exits program. </p>
<p>Exits the program, closes the listener and underlying protocol, kills any sockes or files still open.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener to close/destroy. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tb__testbed_8c_source.html#l00435">435</a> of file <a class="el" href="tb__testbed_8c_source.html">tb_testbed.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7e28b461066b5dd420523dc686b3ac29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtb__prot__stats__t.html">tb_prot_stats_t</a>* tb_get_protocol_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtb__listener__t.html">tb_listener_t</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a31e07ac64cefdac833246c5c845449b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tb_interrupt_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle system interrupts. </p>
<p>Handles system interrupts, and kills the client/server if one is received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Value passed by the signal. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab77c10c1456bceb81a136fbf41a68cb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tb_monitor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtb__listener__t.html">tb_listener_t</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>actively monitor the server/client connection </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener to monitor. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tb__testbed_8c_source.html#l00301">301</a> of file <a class="el" href="tb__testbed_8c_source.html">tb_testbed.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3be49a9767c918bd4abcb1e6ba44f014"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tb_parse </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse input from a number of strings. </p>
<p>Parses values from strings, to create a server or client</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The number of input strings. </td></tr>
    <tr><td class="paramname">argv</td><td>The strings. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the setup was successful.</dd></dl>
<p>argv[0] = TestBed argv[1] = Type (server, client) argv[2] = Address argv[3] = Port argv[4] = Protocol (tcp, udp, udt) argv[5] = Bufsize (MB) argv[6] = File type (size, file) argv[7] = Filename/Fliesize </p>

<p>Definition at line <a class="el" href="tb__testbed_8c_source.html#l00063">63</a> of file <a class="el" href="tb__testbed_8c_source.html">tb_testbed.c</a>.</p>

</div>
</div>
<a class="anchor" id="af588c4b48b411318fac6057a5399512d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tb_print_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtb__prot__stats__t.html">tb_prot_stats_t</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtb__listener__t.html">tb_listener_t</a> *&#160;</td>
          <td class="paramname"><em>listener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the stats given. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td>The stats struct to print. </td></tr>
    <tr><td class="paramname">listener</td><td>The listener to print stats for. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tb__testbed_8c_source.html#l00402">402</a> of file <a class="el" href="tb__testbed_8c_source.html">tb_testbed.c</a>.</p>

</div>
</div>
<a class="anchor" id="a70047050ccc93bb63209038b7d6d9284"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tb_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtb__listener__t.html">tb_listener_t</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the server/client. </p>
<p>This begins the server or client. Filename can be null if the endpoint is a server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener to start. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if performed. </dd></dl>

<p>Definition at line <a class="el" href="tb__testbed_8c_source.html#l00211">211</a> of file <a class="el" href="tb__testbed_8c_source.html">tb_testbed.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac8da963855e09bf929c085486f4a3b47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="tb__testbed_8c_source.html#l00045">45</a> of file <a class="el" href="tb__testbed_8c_source.html">tb_testbed.c</a>.</p>

</div>
</div>
<h2>Variable Documentation</h2>
<a class="anchor" id="a16bd599f12a21e98f33152764b85ae37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int C_BUFF_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The client buffer multiplier. </p>
<p>The size provided by the user at run time is multiplied by this number to generate the buffer size. </p>

</div>
</div>
<a class="anchor" id="ab5ee406d514403c7caaa5bce873cd300"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int S_BUFF_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The server buffer multiplier. </p>
<p>The size provided by the user at run time is multiplited by this number to generate the buffer size. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="tb__testbed_8h.html">tb_testbed.h</a></li>
    <li class="footer">Generated on Mon Feb 10 2014 19:36:05 for TestBed by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
