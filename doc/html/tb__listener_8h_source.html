<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>TestBed: src/tb_listener.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TestBed
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">For testing various protocols over the internets</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tb__listener_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tb_listener.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tb__listener_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * tb_listener.h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: 4/12/2013</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: Michael Holmwood</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef TB_LISTENER_T_H_</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define TB_LISTENER_T_H_</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tb__protocol_8h.html">tb_protocol.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tb__epoll_8h.html">tb_epoll.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tb__worker_8h.html">tb_worker.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tb__logging_8h.html">tb_logging.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tb__session_8h.html">tb_session.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tb__sock__opt_8h.html">tb_sock_opt.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;gdsl/gdsl_hash.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;gdsl/gdsl_heap.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;pthread.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;sys/socket.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;pthread.h&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;glib-2.0/glib/ghash.h&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6">   32</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6a67c96b24b23bcb408bae7626730a04b7">   34</a></span>&#160;    <a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6a67c96b24b23bcb408bae7626730a04b7" title="The listener is a server.">SERVER</a> = 0, </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6a48e4cb37544c8e69715d45e5a83b2109">   35</a></span>&#160;    <a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6a48e4cb37544c8e69715d45e5a83b2109" title="The listener is a client.">CLIENT</a>,     </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6a279284d2b9d6f1a10042b926951b77ab">   36</a></span>&#160;    <a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6a279284d2b9d6f1a10042b926951b77ab" title="Multi connection server.">mSERVER</a>,    </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6aee914d963bee5cbcdec16ea2d5432d75">   37</a></span>&#160;    <a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6aee914d963bee5cbcdec16ea2d5432d75" title="Multi connection client.">mCLIENT</a>     </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6" title="The type of endpoint to create.">ENDPOINT_TYPE</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4">   46</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a7ef9ab2ee648332deb26886b5f5a198e">   48</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a7ef9ab2ee648332deb26886b5f5a198e" title="The listener has been created.">TB_CREATED</a> = 0,     </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4ae3f258303bb903e4a10660a64c2af1ee">   49</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4ae3f258303bb903e4a10660a64c2af1ee" title="The listener is starting up.">TB_STARTING</a> = 1,    </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a85db1220e76bb25e4d4bac5b3c3b524f">   50</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a85db1220e76bb25e4d4bac5b3c3b524f" title="The listener is connected.">TB_CONNECTED</a> = 2,   </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4ad4e334774bf8113c5f695116c31e4fc0">   51</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4ad4e334774bf8113c5f695116c31e4fc0" title="The listener is disconnected.">TB_DISCONNECTED</a> = 3,</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a0431dc834b1dedce4f5694b274f7d22e">   52</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a0431dc834b1dedce4f5694b274f7d22e" title="The listener is listening for incoming connections.">TB_LISTENING</a> = 4,   </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2a7704cb5e60a9f197267978817c7007">   53</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2a7704cb5e60a9f197267978817c7007" title="The listener is exiting.">TB_EXITING</a> = 5,     </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4aa5e00e821cf2b9ce1dd4286178970058">   54</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4aa5e00e821cf2b9ce1dd4286178970058" title="The listener is aborting.">TB_ABORTING</a> = 6,    </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a5d8f10dd221cadd7fdabb80df931d575">   55</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4a5d8f10dd221cadd7fdabb80df931d575" title="The listener is polling.">TB_POLLING</a> = 7      </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eaf">   64</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafa13e252fc01cca534ed6aa612e99f2173">   66</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafa13e252fc01cca534ed6aa612e99f2173" title="Regular status.">TB_CONTINUE</a> = 1,    </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafaf76138418fd9d2bb1c239fc8c68a8774">   67</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafaf76138418fd9d2bb1c239fc8c68a8774" title="Abort the current operation.">TB_ABORT</a> = 2,       </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafa96efcde6db8a86a5aea96d8a5963a7c4">   68</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafa96efcde6db8a86a5aea96d8a5963a7c4" title="Exit from the current operation.">TB_EXIT</a> = 4,        </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafa931ee640196d62acef98f47b54b20a4d">   69</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafa931ee640196d62acef98f47b54b20a4d" title="Exit from loop.">TB_E_LOOP</a> = <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafaf76138418fd9d2bb1c239fc8c68a8774" title="Abort the current operation.">TB_ABORT</a> | <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eafa96efcde6db8a86a5aea96d8a5963a7c4" title="Exit from the current operation.">TB_EXIT</a> </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eaf">COMMAND</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html">   82</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a3fefae1824d77098e05df5bac09c1791">   84</a></span>&#160;    <a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6" title="The type of endpoint to create.">ENDPOINT_TYPE</a> <a class="code" href="structtb__test__params__t.html#a3fefae1824d77098e05df5bac09c1791" title="The end point type.">type</a>; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a0d2276cd987e688180eedab183cd503e">   85</a></span>&#160;    <a class="code" href="tb__protocol_8h.html#a7a5bff1040fc154c510874327d44cc1a">PROTOCOL</a> <a class="code" href="structtb__test__params__t.html#a0d2276cd987e688180eedab183cd503e" title="The protocol to test.">protocol</a>;  </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a50b4d1da7c10bfd1e9365a1c37d09442">   86</a></span>&#160;    <a class="code" href="tb__protocol_8h.html#ac5355051296d54a114b8691ccfc4010c">CONGESTION_CONTROL</a> <a class="code" href="structtb__test__params__t.html#a50b4d1da7c10bfd1e9365a1c37d09442" title="The congestion control algorithm to use.">control</a>; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">//Network Parameters.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a879a8cdf605d02f8af8b2e216b8764f2">   89</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__test__params__t.html#a879a8cdf605d02f8af8b2e216b8764f2" title="The address to bind/connect to.">address</a>;      </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#add99ba4ea70b8f66170823cad9a55fa4">   90</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__test__params__t.html#add99ba4ea70b8f66170823cad9a55fa4" title="The port to bind/connect to.">port</a>;         </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">//Buffer sizes.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a8ae9ae9a85fbb77bc460b0d43e4fc1c5">   93</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#a8ae9ae9a85fbb77bc460b0d43e4fc1c5" title="The size of the l4 read buffer.">l4_r_b_size</a>;    </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a97320ff488c6ed44b28b034c826482c7">   94</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#a97320ff488c6ed44b28b034c826482c7" title="The size of the l4 write buffer.">l4_w_b_size</a>;    </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#aa9d1ab0c9c6ef33a4b6bd60172dd0ec5">   96</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#aa9d1ab0c9c6ef33a4b6bd60172dd0ec5" title="The size of the l3 read buffer.">l3_r_b_size</a>;    </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#aee0e87ac541b0694deb1499aa3371f91">   97</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#aee0e87ac541b0694deb1499aa3371f91" title="The size of the l3 write buffer.">l3_w_b_size</a>;    </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">//Data parameters.</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a848d9c2765e62bac90bee8355062858a">  100</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#a848d9c2765e62bac90bee8355062858a" title="The size of the data to send.">d_size</a>;         </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a8505c513bc640d1f69e5f76fb32b24a8">  101</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__test__params__t.html#a8505c513bc640d1f69e5f76fb32b24a8" title="The name of the file to use.">file_name</a>;    </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">//Control parameters.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a093a636a4cc3aec4f564b9ab29081b59">  104</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#a093a636a4cc3aec4f564b9ab29081b59" title="Destroy the listener on exit.">d_on_exit</a>;      </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">//Stat collection parameters.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a46fa1969de5714507943035793d36269">  107</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#a46fa1969de5714507943035793d36269" title="Monitor the connection.">monitor</a>;        </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#a21a0be842e8fa2c780fa87f45bd5d17e">  108</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#a21a0be842e8fa2c780fa87f45bd5d17e" title="Print stats to screen.">print_stats</a>;    </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">//Logging options</span></div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#ac5bfaec8717601161bb642175e1d85e0">  111</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#ac5bfaec8717601161bb642175e1d85e0" title="Enable logging.">log_enable</a>;     </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#ac0ddb52991004ce37e7ef093186f44a1">  112</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__test__params__t.html#ac0ddb52991004ce37e7ef093186f44a1" title="The path to save the log to.">log_path</a>;     </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">//Packet size</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="code" href="structtb__test__params__t.html#af7112fe07fe05134febc994e10196ce5">  115</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__test__params__t.html#af7112fe07fe05134febc994e10196ce5">pack_size</a>;      <span class="comment">//&lt; The size of a packet, in bytes.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="structtb__test__params__t.html" title="struct used to pass parameters into testbed.">tb_test_params_t</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a087aa7eae6394f6a052ea86a8944b262">  123</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="tb__listener_8h.html#a087aa7eae6394f6a052ea86a8944b262">funct_l_exit</a>)(<span class="keywordtype">void</span> *listener);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="code" href="tb__listener_8h.html#a26990e2906e18234aa32e757383e1752">  129</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="tb__listener_8h.html#a26990e2906e18234aa32e757383e1752">funct_l_abort</a>)(<span class="keywordtype">void</span> *listener);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="code" href="structtb__listener__t.html">  140</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">//Listener Data Structures</span></div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a297b6218401cf4b88bf011d2665be0d2">  143</a></span>&#160;    gdsl_hash_t __sessions; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a41b2b73dc00fee2a18f90afa4987cc5b">  147</a></span>&#160;    gdsl_heap_t <a class="code" href="structtb__listener__t.html#a41b2b73dc00fee2a18f90afa4987cc5b" title="The workers for this listener.">__workers</a>;  </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a49ffb28f94389b1ca495a663507db665">  148</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a49ffb28f94389b1ca495a663507db665" title="The number of threads for listener.">__num_threads</a>;      </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a696d2a3fd36c8895302b9372d1e55935">  150</a></span>&#160;    GHashTable *<a class="code" href="structtb__listener__t.html#a696d2a3fd36c8895302b9372d1e55935" title="Active sessions.">sessions</a>;   </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">//pthread fields</span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a104cf2a79e8cb03fe3c0d3301fe8257f">  152</a></span>&#160;    pthread_t *<a class="code" href="structtb__listener__t.html#a104cf2a79e8cb03fe3c0d3301fe8257f" title="The thread the listener is on.">__l_thread</a>;  </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a053be2f9198a10c7329b11c19dfc6fe4">  153</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a053be2f9198a10c7329b11c19dfc6fe4" title="The id returned from syscall.">sys_tid</a>;            </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ab828bf6b1b85621025b518a892b79d79">  154</a></span>&#160;    pthread_mutex_t *<a class="code" href="structtb__listener__t.html#ab828bf6b1b85621025b518a892b79d79" title="Locks the stats field for writing.">stat_lock</a>; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a7f764a9f865a1a752a852d4d4422023a">  155</a></span>&#160;    pthread_cond_t *<a class="code" href="structtb__listener__t.html#a7f764a9f865a1a752a852d4d4422023a" title="The condition for releasing external threads.">stat_cond</a>; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a54cc7a2ff1d7592de7c4647c6fd66e14">  156</a></span>&#160;    pthread_mutex_t *<a class="code" href="structtb__listener__t.html#a54cc7a2ff1d7592de7c4647c6fd66e14" title="Lock for safe set/get of listener status.">status_lock</a>; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">//cpu info</span></div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ae9a3e84ebf05ae6b7baf872b844c94ea">  159</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#ae9a3e84ebf05ae6b7baf872b844c94ea" title="The number of processors available.">num_proc</a>;           </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ab7a892d2900125821f3d6b11d003191b">  160</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#ab7a892d2900125821f3d6b11d003191b" title="The affinity for the listener thread.">cpu_affinity</a>;       </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a2715f812fc8239e875c5e9413f8ed04b">  161</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a2715f812fc8239e875c5e9413f8ed04b" title="The affinity for the main thread.">main_cpu_aff</a>;       </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">//Listener setup</span></div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#abbd1eee27b1b57dcb1f57b2ef4b4fa12">  164</a></span>&#160;    <a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6" title="The type of endpoint to create.">ENDPOINT_TYPE</a> <a class="code" href="structtb__listener__t.html#abbd1eee27b1b57dcb1f57b2ef4b4fa12" title="The type of endpoint this is.">e_type</a>;   </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">//Network setup</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ae15b37b2cdfd51bbb2719e4eb3ffb917">  167</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__listener__t.html#ae15b37b2cdfd51bbb2719e4eb3ffb917" title="The bind address for this listener.">bind_address</a>;     </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a5c96fa09c995ca60f7b334c1842eb991">  168</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__listener__t.html#a5c96fa09c995ca60f7b334c1842eb991" title="The bind port for this listener.">bind_port</a>;        </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a199ab88d4ca8eab30e1cb7d35edacca5">  169</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a199ab88d4ca8eab30e1cb7d35edacca5" title="The size of the buffer to use.">bufsize</a>;            </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a0b0f6789be37cb22fa42abe30a271591">  170</a></span>&#160;    <a class="code" href="structtb__protocol__t.html" title="Defines the API for the chosen protocol.">tb_protocol_t</a> *<a class="code" href="structtb__listener__t.html#a0b0f6789be37cb22fa42abe30a271591" title="The protocol to use.">protocol</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a94d540b145f21be2f9b28a2c225ccf30">  171</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a94d540b145f21be2f9b28a2c225ccf30" title="The socket descriptor.">sock_d</a>;             </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#abe6a138a14cade5eb871eeb66ee2b638">  172</a></span>&#160;    <a class="code" href="structtb__options__t.html">tb_options_t</a> *<a class="code" href="structtb__listener__t.html#abe6a138a14cade5eb871eeb66ee2b638" title="The options for the protocol.">options</a>;  </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ab79822e20d19ce95bdf8a3f95bd616d5">  173</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structtb__listener__t.html#ab79822e20d19ce95bdf8a3f95bd616d5" title="Protocol specific data.">prot_data</a>;        </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#acbf48788378975ac1fb514027e3dc1ab">  174</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#acbf48788378975ac1fb514027e3dc1ab" title="The number of connections to create;.">num_connections</a>;    </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">//Data setup</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a8bc95708c758a6400d8692f2d0fcbaeb">  177</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a8bc95708c758a6400d8692f2d0fcbaeb" title="The size of the file to generate.">file_size</a>;          </div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#aa065f30aa9f5f9a42132c82c787ee70b">  178</a></span>&#160;    FILE *<a class="code" href="structtb__listener__t.html#aa065f30aa9f5f9a42132c82c787ee70b" title="A pointer to the file to read/write to/from.">fp</a>;               </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#aeac90097f29f7529968697163cea5c18">  179</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__listener__t.html#aeac90097f29f7529968697163cea5c18" title="The name of the file to load.">filename</a>;         </div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a91a70b77df95bd8b0830b49a094c2acb">  180</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structtb__listener__t.html#a91a70b77df95bd8b0830b49a094c2acb" title="The data to send.">data</a>;             </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a875fd564b2b2de100e6fc2090a06812c">  181</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a875fd564b2b2de100e6fc2090a06812c" title="Send multiple times.">num_send</a>;           </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#aab742bc33815bd69bf49ad1861006b97">  183</a></span>&#160;    <span class="keyword">struct </span>addrinfo *<a class="code" href="structtb__listener__t.html#aab742bc33815bd69bf49ad1861006b97" title="The addrinfo for the endpoint.">addr_info</a>;  </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ac8bf36fe0577cba66bccda3a6f7e80a4">  184</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#ac8bf36fe0577cba66bccda3a6f7e80a4" title="The flags for the endpoint.">flags</a>;              </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">//Stats</span></div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#af6b56edb73bc2df2c5b45cb794532ce5">  188</a></span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="structtb__listener__t.html#af6b56edb73bc2df2c5b45cb794532ce5" title="the total amount of data tx/rx.">total_tx_rx</a>;      </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a741d9964fa8029b9468528756ea835af">  189</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structtb__listener__t.html#a741d9964fa8029b9468528756ea835af" title="The seconds it took for the last transfer.">sec</a>;             </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">//Stat collection control</span></div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a464593aa6d4c80e0f689c501c4e81e8c">  192</a></span>&#160;    <a class="code" href="structtb__prot__stats__t.html" title="Protocol information struct.">tb_prot_stats_t</a> *<a class="code" href="structtb__listener__t.html#a464593aa6d4c80e0f689c501c4e81e8c" title="The current stats.">stats</a>; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ad91878c8e805d88354749a9fbfee4296">  193</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#ad91878c8e805d88354749a9fbfee4296" title="Current stats have been read.">read</a>;               </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a46fa1969de5714507943035793d36269">  194</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a46fa1969de5714507943035793d36269" title="Monitor for stat collection.">monitor</a>;            </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a21a0be842e8fa2c780fa87f45bd5d17e">  195</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a21a0be842e8fa2c780fa87f45bd5d17e" title="Print stats to screen.">print_stats</a>;        </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">//Control</span></div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a1025e6cbbd3179d2d91b9b4afb8f8efc">  198</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a> <a class="code" href="structtb__listener__t.html#a1025e6cbbd3179d2d91b9b4afb8f8efc" title="The current status of the listener.">status</a>;          </div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a70d431da3740b5dedad495c2843ba89e">  199</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eaf">COMMAND</a> <a class="code" href="structtb__listener__t.html#a70d431da3740b5dedad495c2843ba89e" title="Commands to stop, etc.">command</a>;        </div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#aea40caaca885ba5ed3e0b82d7ef1f498">  200</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a0fbada5bff0eeb4dc6be4b6e6f1c4eaf">COMMAND</a> <a class="code" href="structtb__listener__t.html#aea40caaca885ba5ed3e0b82d7ef1f498" title="The command to process if a tx ends.">s_tx_end</a>;       </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a73b88865af668ff87dacd74c1f838da6">  201</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a73b88865af668ff87dacd74c1f838da6" title="Destroy on exit.">d_exit</a>;             </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">//Test Parameters</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#ada07b15315fdcc71589ed7b50faec50a">  204</a></span>&#160;    <a class="code" href="structtb__test__params__t.html" title="struct used to pass parameters into testbed.">tb_test_params_t</a> *<a class="code" href="structtb__listener__t.html#ada07b15315fdcc71589ed7b50faec50a" title="The parameters for the test.">params</a>;   </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">//Logging info</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a511e73c6f56fe64b24f9261939aec65f">  207</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__listener__t.html#a511e73c6f56fe64b24f9261939aec65f" title="Logging enabled/disabled.">log_enabled</a>;        </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a206b8711b0b270577f073bdc99b0917d">  208</a></span>&#160;    <a class="code" href="structtb__log__t.html">tb_log_t</a> *<a class="code" href="structtb__listener__t.html#a206b8711b0b270577f073bdc99b0917d" title="Information for logging.">log_info</a>;     </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//misc</span></div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a77b5086c18c650adfe86a3489057d9f9">  211</a></span>&#160;    <a class="code" href="structtb__session__t.html">tb_session_t</a> *<a class="code" href="structtb__listener__t.html#a77b5086c18c650adfe86a3489057d9f9">curr_session</a>; <span class="comment">//&lt; The current session for the listener.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#af7fbbda1b15f6051fb8cead0ada5ce7e">  212</a></span>&#160;    <a class="code" href="structtb__epoll__t.html">tb_epoll_t</a> *<a class="code" href="structtb__listener__t.html#af7fbbda1b15f6051fb8cead0ada5ce7e" title="Used by protocols that require epoll;.">epoll</a>;      </div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a948f8e60166821d3db232c56a59b195c">  213</a></span>&#160;    <a class="code" href="structtb__session__list__t.html">tb_session_list_t</a> *<a class="code" href="structtb__listener__t.html#a948f8e60166821d3db232c56a59b195c" title="Session list.">session_list</a>; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">//Callbacks</span></div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a90a87c6e5bc8d9e690190da6d0aa926e">  216</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a087aa7eae6394f6a052ea86a8944b262">funct_l_exit</a> <a class="code" href="structtb__listener__t.html#a90a87c6e5bc8d9e690190da6d0aa926e" title="Called when aborting.">f_exit</a>;    </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="code" href="structtb__listener__t.html#a385e4cbcf683dd35d7d80c9726c8c67d">  217</a></span>&#160;    <a class="code" href="tb__listener_8h.html#a26990e2906e18234aa32e757383e1752">funct_l_abort</a> <a class="code" href="structtb__listener__t.html#a385e4cbcf683dd35d7d80c9726c8c67d" title="Called when exiting.">f_abort</a>;  </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="code" href="structtb__other__info.html">  230</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="code" href="structtb__other__info.html#a35fe7496a6493a097350d748cf5d8908">  232</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__other__info.html#a35fe7496a6493a097350d748cf5d8908" title="The current status of the listener.">l_status</a>;       </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="code" href="structtb__other__info.html#a053be2f9198a10c7329b11c19dfc6fe4">  233</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__other__info.html#a053be2f9198a10c7329b11c19dfc6fe4" title="The tid of the thread according to the sys.">sys_tid</a>;        </div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="code" href="structtb__other__info.html#ab7a892d2900125821f3d6b11d003191b">  234</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structtb__other__info.html#ab7a892d2900125821f3d6b11d003191b" title="The current affinity of the cpu.">cpu_affinity</a>;   </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<a class="code" href="structtb__other__info.html" title="struct that contains information on the current status of the listener.">tb_other_info</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<a class="code" href="tb__listener_8c.html#ae063a1fdce497a4e08aea504a6ab927b" title="Gets the stats for the listener.">tb_set_l_stats</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<a class="code" href="tb__listener_8c.html#a144e59e2470a90fc2b6e1f840da77ae8" title="Gets the stats for the listener.">tb_set_m_stats</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<a class="code" href="structtb__prot__stats__t.html" title="Protocol information struct.">tb_prot_stats_t</a></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;*<a class="code" href="tb__listener_8c.html#a6e5c88a915882ea9d39fd41ee4742ffc" title="A thread safe way to get access to stats.">tb_ex_get_stats</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;*<a class="code" href="tb__listener_8c.html#a5ec3b6c120621050965582e51e4d0d5a" title="Create a listener with the supplied parameters.">tb_create_listener</a>(<a class="code" href="tb__listener_8h.html#ae37f3ebcf0081b2dd11adf41f1f867d6" title="The type of endpoint to create.">ENDPOINT_TYPE</a> type, <span class="keywordtype">char</span> *addr, <span class="keywordtype">char</span> *port, <a class="code" href="tb__protocol_8h.html#a7a5bff1040fc154c510874327d44cc1a">PROTOCOL</a> protocol,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordtype">int</span> bufsize);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;*<a class="code" href="tb__listener_8c.html#a042a2b565ccc70e1506562ad43c83bfb" title="Create a listener using a tb_test_params_t struct.">tb_create_endpoint</a>(<a class="code" href="structtb__test__params__t.html" title="struct used to pass parameters into testbed.">tb_test_params_t</a> *params);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<a class="code" href="structtb__worker__t.html" title="struct that defines fields for worker.">tb_worker_t</a></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;*<a class="code" href="tb__listener_8c.html#aadc6c1af686cf9fc7bbd8874eca3be42" title="Get a worker for the supplied session.">tb_get_worker</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener, <a class="code" href="structtb__session__t.html">tb_session_t</a> *session);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<a class="code" href="tb__listener_8c.html#a370d0eb443de6db87ab002ea2e5cc468" title="Destroy a listener.">tb_destroy_listener</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<a class="code" href="tb__listener_8h.html#a3ef8c04e8f0f2aed65b59821d3a1b01d" title="Set the affinity and scheduling priority for a given thread.">tb_set_therad_param</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<a class="code" href="tb__listener_8c.html#aa1646d6df4318c903d2653a6032a0a40">tb_get_cpu_info</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<a class="code" href="tb__listener_8c.html#af552255cac39c1b712a1c213070c04e0" title="Print a listener.">tb_print_listener</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<a class="code" href="tb__listener_8c.html#aedd19f27c5b2e1d8717024afed30ec51" title="Resolve the address for the given listener.">tb_resolve_address</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<a class="code" href="tb__listener_8h.html#a15dfa6415134b86b0a24bb01eece50ee" title="Set sockopt.">tb_set_sockopt</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<a class="code" href="tb__listener_8c.html#a453c35ddb0c42f1ecd1b963e7945860f" title="Create a socket.">tb_create_socket</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<a class="code" href="tb__listener_8c.html#a05130f296853ae0e2d00aee025f6773a" title="Bind and listen.">tb_listen</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="keyword">inline</span> <a class="code" href="structtb__session__t.html">tb_session_t</a></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;*<a class="code" href="tb__listener_8c.html#a8a79bda6c64046a1b527e045c9487ac8" title="Accept an incoming connection.">tb_accept</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener) __attribute__ ((always_inline)) __attribute__((deprecated));</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;inline <span class="keywordtype">int</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<a class="code" href="tb__listener_8c.html#afd4a201df5fe1e9b2e8a694ac270255a" title="Attempt to connect.">tb_connect</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;inline <span class="keywordtype">int</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<a class="code" href="tb__listener_8c.html#a26cdc218a6e64bb4afeb7751752a806a" title="Bind the listener to its address.">tb_bind</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;inline <span class="keywordtype">int</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<a class="code" href="tb__listener_8c.html#a259b174a6102fa292d1fd63125cb3035" title="Send data.">tb_send_data</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener, <span class="keywordtype">char</span> *buff, <span class="keywordtype">int</span> size) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;inline <span class="keywordtype">int</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<a class="code" href="tb__listener_8c.html#a2456170f46148e20d6e87110db95c89c" title="Receive data.">tb_recv_data</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener, <a class="code" href="structtb__session__t.html">tb_session_t</a> *session) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;inline <span class="keywordtype">int</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<a class="code" href="tb__listener_8c.html#ab66b3e6da7a5d6df6e36eaefda0a8463">tb_send_to</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener, <a class="code" href="structtb__session__t.html">tb_session_t</a> *session) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;inline <span class="keywordtype">int</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<a class="code" href="tb__listener_8c.html#aeeb4e0453d1d48ce53d354b836fa0706" title="recv from - used by UDP.">tb_recv_from</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener, <a class="code" href="structtb__session__t.html">tb_session_t</a> *session) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<a class="code" href="tb__listener_8h.html#ac09710b23dca8fcf1c05f4bd4c707b7a" title="collect stats for listener.">tb_get_prot_stats</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;inline <span class="keywordtype">int</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<a class="code" href="tb__listener_8c.html#a51ee3fc570bf367b96f646a4d15f313d" title="Set epoll for this listener.">tb_set_epoll</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;inline <span class="keywordtype">void</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<a class="code" href="tb__listener_8c.html#aca070e070aa077fd83fda3d2f448bfca" title="Format an error to the log file.">tb_error</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener, const <span class="keywordtype">char</span> *info, <span class="keywordtype">int</span> errno) __attribute__ ((always_inline));</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;inline <span class="keywordtype">void</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<a class="code" href="tb__listener_8c.html#a1a5b9849075e44703d7815be5934af11">tb_address</a>(<a class="code" href="structtb__listener__t.html" title="struct that defines the fields for the listener class.">tb_listener_t</a> *listener, const <span class="keywordtype">char</span> *info, struct sockaddr_storage *store) __attribute__((always_inline));</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* TB_LISTENER_T_H_ */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="tb__listener_8h.html">tb_listener.h</a></li>
    <li class="footer">Generated on Wed Feb 12 2014 16:33:38 for TestBed by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
